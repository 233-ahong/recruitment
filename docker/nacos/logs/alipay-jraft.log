2023-03-25 18:26:38,446 INFO SPI service [com.alipay.sofa.jraft.JRaftServiceFactory - com.alipay.sofa.jraft.core.DefaultJRaftServiceFactory] loading.

2023-03-25 18:26:38,513 INFO SPI service [com.alipay.sofa.jraft.rpc.RaftRpcFactory - com.alipay.sofa.jraft.rpc.impl.GrpcRaftRpcFactory] loading.

2023-03-25 18:26:38,799 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeDescribeSignalHandler] loading.

2023-03-25 18:26:38,800 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.NodeMetricsSignalHandler] loading.

2023-03-25 18:26:38,803 INFO SPI service [com.alipay.sofa.jraft.util.JRaftSignalHandler - com.alipay.sofa.jraft.ThreadPoolMetricsSignalHandler] loading.

2023-03-25 18:26:38,806 INFO SPI service [com.alipay.sofa.jraft.util.timer.RaftTimerFactory - com.alipay.sofa.jraft.util.timer.DefaultRaftTimerFactory] loading.

2023-03-25 18:26:38,810 INFO The number of active nodes increment to 1.

2023-03-25 18:26:39,073 INFO Starts FSMCaller successfully.

2023-03-25 18:26:39,080 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_persistent_service_v2/snapshot.

2023-03-25 18:26:39,088 INFO Node <naming_persistent_service_v2/172.18.0.2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,091 INFO Node <naming_persistent_service_v2/172.18.0.2:7848> start vote and grant vote self, term=0.

2023-03-25 18:26:39,121 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=23 ms

2023-03-25 18:26:39,122 INFO Node <naming_persistent_service_v2/172.18.0.2:7848> become leader of group, term=1, conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,125 INFO -Djraft.recyclers.maxCapacityPerThread: 4096.

2023-03-25 18:26:39,128 WARN RPC server is not started in RaftGroupService.

2023-03-25 18:26:39,128 INFO Start the RaftGroupService successfully.

2023-03-25 18:26:39,139 INFO onLeaderStart: term=1.

2023-03-25 18:26:39,144 INFO The number of active nodes increment to 2.

2023-03-25 18:26:39,205 INFO Starts FSMCaller successfully.

2023-03-25 18:26:39,206 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot.

2023-03-25 18:26:39,208 INFO Node <naming_instance_metadata/172.18.0.2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,209 INFO Node <naming_instance_metadata/172.18.0.2:7848> start vote and grant vote self, term=0.

2023-03-25 18:26:39,215 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=6 ms

2023-03-25 18:26:39,216 INFO Node <naming_instance_metadata/172.18.0.2:7848> become leader of group, term=1, conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,217 WARN RPC server is not started in RaftGroupService.

2023-03-25 18:26:39,217 INFO Start the RaftGroupService successfully.

2023-03-25 18:26:39,220 INFO onLeaderStart: term=1.

2023-03-25 18:26:39,222 INFO The number of active nodes increment to 3.

2023-03-25 18:26:39,231 INFO Creating new channel to: 172.18.0.2:7848.

2023-03-25 18:26:39,280 INFO Starts FSMCaller successfully.

2023-03-25 18:26:39,281 WARN No data for snapshot reader /home/nacos/data/protocol/raft/naming_service_metadata/snapshot.

2023-03-25 18:26:39,282 INFO Node <naming_service_metadata/172.18.0.2:7848> init, term=0, lastLogId=LogId [index=0, term=0], conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,283 INFO Node <naming_service_metadata/172.18.0.2:7848> start vote and grant vote self, term=0.

2023-03-25 18:26:39,283 INFO The channel 172.18.0.2:7848 is in state: CONNECTING.

2023-03-25 18:26:39,289 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=6 ms

2023-03-25 18:26:39,290 INFO Node <naming_service_metadata/172.18.0.2:7848> become leader of group, term=1, conf=172.18.0.2:7848, oldConf=.

2023-03-25 18:26:39,291 WARN RPC server is not started in RaftGroupService.

2023-03-25 18:26:39,291 INFO Start the RaftGroupService successfully.

2023-03-25 18:26:39,295 INFO onLeaderStart: term=1.

2023-03-25 18:26:39,462 INFO The channel 172.18.0.2:7848 is in state: READY.

2023-03-25 18:26:39,463 INFO The channel 172.18.0.2:7848 has successfully established.

2023-03-25 18:42:00,935 INFO Deleting snapshot /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-03-25 18:42:00,936 INFO Renaming /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/temp to /home/nacos/data/protocol/raft/naming_instance_metadata/snapshot/snapshot_1.

2023-03-25 18:43:17,168 INFO Node <naming_service_metadata/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-25 18:43:17,170 INFO Fail to find the next candidate.

2023-03-25 18:43:17,170 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-25 18:43:17,179 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_service_metadata/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=7 ms

2023-03-25 18:43:17,180 INFO Shutting down FSMCaller...

2023-03-25 18:43:17,181 INFO onShutdown.

2023-03-25 18:43:17,182 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@194f0855[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,182 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4d3ca93f[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,183 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_service_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,183 INFO The number of active nodes decrement to 2.

2023-03-25 18:43:17,183 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_service_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,183 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_service_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,183 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_service_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,185 INFO Node <naming_service_metadata/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-25 18:43:17,186 INFO Stop the RaftGroupService successfully.

2023-03-25 18:43:17,186 INFO Node <naming_instance_metadata/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-25 18:43:17,186 INFO Fail to find the next candidate.

2023-03-25 18:43:17,186 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-25 18:43:17,187 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_service_metadata/log.

2023-03-25 18:43:17,192 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_instance_metadata/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=5 ms

2023-03-25 18:43:17,193 INFO Shutting down FSMCaller...

2023-03-25 18:43:17,193 INFO onShutdown.

2023-03-25 18:43:17,194 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@77a9f6a4[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,194 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@5b3eb649[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,194 INFO The number of active nodes decrement to 1.

2023-03-25 18:43:17,194 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_instance_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,195 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_instance_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,195 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_instance_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,195 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_instance_metadata/172.18.0.2:7848>'}.

2023-03-25 18:43:17,196 INFO Node <naming_instance_metadata/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-25 18:43:17,196 INFO Stop the RaftGroupService successfully.

2023-03-25 18:43:17,196 INFO Node <naming_persistent_service_v2/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_LEADER.

2023-03-25 18:43:17,197 INFO Fail to find the next candidate.

2023-03-25 18:43:17,197 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_instance_metadata/log.

2023-03-25 18:43:17,197 INFO onLeaderStop: status=Status[ESHUTDOWN<1007>: Raft node is going to quit.].

2023-03-25 18:43:17,203 INFO Save raft meta, path=/home/nacos/data/protocol/raft/naming_persistent_service_v2/meta-data, term=1, votedFor=172.18.0.2:7848, cost time=6 ms

2023-03-25 18:43:17,203 INFO Shutting down FSMCaller...

2023-03-25 18:43:17,203 INFO onShutdown.

2023-03-25 18:43:17,204 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@20847ba9[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,204 INFO ThreadPool is terminated: JRaft-Node-ScheduleThreadPool, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@18a0b5cb[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0].

2023-03-25 18:43:17,204 INFO The number of active nodes decrement to 0.

2023-03-25 18:43:17,207 INFO ThreadPool is terminated: JRaft-Global-ElectionTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@6da5a5ad[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-03-25 18:43:17,207 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-ElectionTimer-<naming_persistent_service_v2/172.18.0.2:7848>'}.

2023-03-25 18:43:17,207 INFO ThreadPool is terminated: JRaft-Global-VoteTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@3602c468[Shutting down, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 3].

2023-03-25 18:43:17,208 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=5000, name='JRaft-VoteTimer-<naming_persistent_service_v2/172.18.0.2:7848>'}.

2023-03-25 18:43:17,209 INFO ThreadPool is terminated: JRaft-Global-StepDownTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@40202fdf[Shutting down, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 1197].

2023-03-25 18:43:17,209 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=2500, name='JRaft-StepDownTimer-<naming_persistent_service_v2/172.18.0.2:7848>'}.

2023-03-25 18:43:17,210 INFO ThreadPool is terminated: JRaft-Global-SnapshotTimer, com.alipay.sofa.jraft.util.MetricScheduledThreadPoolExecutor@4f64bc6a[Shutting down, pool size = 1, active threads = 0, queued tasks = 0, completed tasks = 1].

2023-03-25 18:43:17,210 INFO Destroy timer: RepeatedTimer{timeout=null, stopped=true, running=false, destroyed=true, invoking=false, timeoutMs=1800000, name='JRaft-SnapshotTimer-<naming_persistent_service_v2/172.18.0.2:7848>'}.

2023-03-25 18:43:17,211 INFO Node <naming_persistent_service_v2/172.18.0.2:7848> shutdown, currTerm=1 state=STATE_SHUTTING.

2023-03-25 18:43:17,211 INFO Stop the RaftGroupService successfully.

2023-03-25 18:43:17,213 INFO Shutdown managed channel: 172.18.0.2:7848, ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=10, target=172.18.0.2:7848}}.

2023-03-25 18:43:17,213 INFO DB destroyed, the db path is: /home/nacos/data/protocol/raft/naming_persistent_service_v2/log.

2023-03-25 18:43:17,214 INFO The channel 172.18.0.2:7848 is in state: SHUTDOWN.

2023-03-25 18:43:17,214 WARN This channel 172.18.0.2:7848 has started shutting down. Any new RPCs should fail immediately.

2023-03-25 18:43:17,223 INFO Connection disconnected: /172.18.0.2:46660

2023-03-25 18:43:17,226 INFO ThreadPool is terminated: JRaft-RPC-Processor, com.alipay.sofa.jraft.util.MetricThreadPoolExecutor@40ac3004[Shutting down, pool size = 5, active threads = 0, queued tasks = 0, completed tasks = 926].

